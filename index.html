<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ã‚¸ãƒ£ãƒ³ã‚±ãƒ³ï¼ˆå€‹äººãƒ‡ãƒ¼ã‚¿ä¿å­˜ï¼‰</title>
</head>
<body>
  <h1>ã‚¸ãƒ£ãƒ³ã‚±ãƒ³ã—ã‚ˆã†ï¼</h1>

  <p>ã‚ãªãŸã®æ‰‹ã‚’é¸ã‚“ã§ã­ï¼š</p>
  <button onclick="play('ã‚°ãƒ¼')">ã‚°ãƒ¼</button>
  <button onclick="play('ãƒãƒ§ã‚­')">ãƒãƒ§ã‚­</button>
  <button onclick="play('ãƒ‘ãƒ¼')">ãƒ‘ãƒ¼</button>

  <h2 id="result"></h2>
  <p>å‹ã£ãŸå›æ•°: <span id="winCount">0</span></p>
  <p>è² ã‘ãŸå›æ•°: <span id="loseCount">0</span></p>
  <p>ã‚ã„ã“ã®å›æ•°: <span id="drawCount">0</span></p>

  <script>
    // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰ã‚«ã‚¦ãƒ³ãƒˆã‚’å–å¾—ï¼ˆç„¡ã‘ã‚Œã°0ï¼‰
    let winCount = Number(localStorage.getItem('winCount') || 0);
    let loseCount = Number(localStorage.getItem('loseCount') || 0);
    let drawCount = Number(localStorage.getItem('drawCount') || 0);

    // è¡¨ç¤ºã‚’æ›´æ–°
    function updateDisplay() {
      document.getElementById('winCount').textContent = winCount;
      document.getElementById('loseCount').textContent = loseCount;
      document.getElementById('drawCount').textContent = drawCount;
    }

    updateDisplay();

    function play(userChoice) {
      const choices = ['ã‚°ãƒ¼', 'ãƒãƒ§ã‚­', 'ãƒ‘ãƒ¼'];
      const computerChoice = choices[Math.floor(Math.random() * 3)];

      let outcome = '';
      if (userChoice === computerChoice) {
        outcome = 'ã‚ã„ã“ï¼';
        drawCount++;
      } else if (
        (userChoice === 'ã‚°ãƒ¼' && computerChoice === 'ãƒãƒ§ã‚­') ||
        (userChoice === 'ãƒãƒ§ã‚­' && computerChoice === 'ãƒ‘ãƒ¼') ||
        (userChoice === 'ãƒ‘ãƒ¼' && computerChoice === 'ã‚°ãƒ¼')
      ) {
        outcome = 'ã‚ãªãŸã®å‹ã¡ï¼ğŸ‰';
        winCount++;
      } else {
        outcome = 'ã‚ãªãŸã®è² ã‘â€¦';
        loseCount++;
      }

      // çµæœè¡¨ç¤º
      document.getElementById('result').textContent =
        `ã‚ãªãŸ: ${userChoice}  |  ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿: ${computerChoice} â†’ ${outcome}`;

      // ã‚«ã‚¦ãƒ³ãƒˆè¡¨ç¤ºã‚’æ›´æ–°
      updateDisplay();

      // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
      localStorage.setItem('winCount', winCount);
      localStorage.setItem('loseCount', loseCount);
      localStorage.setItem('drawCount', drawCount);
    }
  </script>
</body>
</html>
